<ngt-object3D
	[castShadow]="true"
	[receiveShadow]="true"
	[scale]="0.25"
	[position]="[0, world.planeDefaultHeight, 0]"
	[ref]="refs.airplaneRef"
	(beforeRender)="onAirplaneBeforeRender($event)"
>
	<!-- cabin -->
	<ngt-mesh [castShadow]="true" [receiveShadow]="true">
		<ngt-buffer-geometry>
			<ngt-buffer-attribute attach="attributes.position" *args="[cabinVertices, 3]" />
		</ngt-buffer-geometry>
		<ngt-mesh-phong-material [color]="Colors.red" [flatShading]="true" [side]="DoubleSide" />
	</ngt-mesh>

	<!-- engine -->
	<ngt-mesh [position]="[50, 0, 0]" [castShadow]="true" [receiveShadow]="true">
		<ngt-box-geometry *args="[20, 50, 50]" />
		<ngt-mesh-phong-material [color]="Colors.white" [flatShading]="true" />
	</ngt-mesh>

	<!-- tail plane -->
	<ngt-mesh [position]="[-40, 20, 0]" [castShadow]="true" [receiveShadow]="true">
		<ngt-box-geometry *args="[15, 20, 5]" />
		<ngt-mesh-phong-material [color]="Colors.red" [flatShading]="true" />
	</ngt-mesh>

	<!-- side wing -->
	<ngt-mesh [position]="[0, 15, 0]" [castShadow]="true" [receiveShadow]="true">
		<ngt-box-geometry *args="[30, 5, 120]" />
		<ngt-mesh-phong-material [color]="Colors.red" [flatShading]="true" />
	</ngt-mesh>

	<!-- windshield -->
	<ngt-mesh [position]="[20, 27, 0]" [castShadow]="true" [receiveShadow]="true">
		<ngt-box-geometry *args="[3, 15, 20]" />
		<ngt-mesh-phong-material [color]="Colors.white" [transparent]="true" [opacity]="0.3" [flatShading]="true" />
	</ngt-mesh>

	<!-- propeller -->
	<app-propeller />

	<!-- wheels -->
	<app-wheel [position]="[25, -20, 25]" />
	<app-tire [position]="[25, -28, 25]" />
	<app-wheel [position]="[25, -20, -25]" />
	<app-tire [position]="[25, -28, -25]" />
	<app-tire [position]="[-35, -5, 0]" [scale]="0.5" />

	<!-- suspension -->
	<ngt-mesh [position]="[-35, -5, 0]" [rotation]="[0, 0, -0.3]">
		<ngt-box-geometry #suspensionGeometry *args="[4, 20, 4]" />
		<ngt-mesh-phong-material [color]="Colors.red" [flatShading]="true" />
	</ngt-mesh>

	<!-- pilot -->
	<app-pilot [position]="[5, 27, 0]" />
</ngt-object3D>
