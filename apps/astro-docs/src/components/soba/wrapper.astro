---
import { Tabs, TabItem, Code } from '@astrojs/starlight/components';
import { type SceneKeys, type SceneOptions, scenes } from './scenes';
import { SobaWrapper } from './wrapper';

interface Props {
  scene: SceneKeys;
}

const { scene } = Astro.props;

const sceneOptions  = (scene.split('.').reduce((acc, cur) => acc[cur], scenes)) as SceneOptions;
---

<Tabs>
  <TabItem label="Preview">
    <SobaWrapper client:only scene={scene} />
  </TabItem>
  <TabItem label="Code">
    <Code code={sceneOptions.text} lang="angular-ts" title={scene} />
  </TabItem>
</Tabs>
